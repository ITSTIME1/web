var player = function() {
    var is_sample = true;
    var save_interval = 50000;
    var is_save = true;
    var is_next = true;
    var first_time = false;


    console.log("hello");
    console.log(is_sample);

    
    var player_handle = function(){
        console.log("player");
        console.log(is_sample);
        console.log(save_interval);
		var iframe = $("#content_frame");
		iframe.attr({
			'src': content_url,
			'width': sizeX,
			'height': sizeY
		});
		
		//창크기 변환
		window.resizeTo(sizeX+40,sizeY+150);
		
		//출석체크바인드
        // 출석체크 함수
		$("#btn_check").on('click', function(e){
	        e.preventDefault();
	        if(window.confirm("수강체크는 강의를 다 듣고 마지막에 클릭하시면 됩니다.\n수강체크를 하시겠습니까?")){
	        	$("#btn_next").removeClass('off').addClass('on');
                player.save();
	        }
	    });
	    
	    if(is_sample) player.save();
	    if(!is_sample && first_time) player.save();
	};

    var save_handle = function(){
        // 
		var d = new Date();
		var n = d.getTime();
		first_time = false;
		
        // is_save 가 true 이고 is_sample 이 true 가 아니면!
        // ajax 통신
        // var is_save = true
        // var is_sample = true
		// if(is_save && !is_sample) {
		// 	$.ajax({
		// 		method:'GET',
		// 		cache:false,
		// 		data:$('#check_form').serialize(),
		// 		url:"./update.php",
		// 		success:function(r){
        //             // 결과가 studied 라면 is_next = true
        //             // 버튼이 열린다.
		// 			if(r.result == "studied"){
		// 				is_next = true;
		// 				$("#btn_next").removeClass('off').addClass('on');
		// 			}
		// 			//alert(r.pass);
					
		// 		}
		// 	});
		// } else {
		// 	save_call_back();
		// }
    }

    var next_limit_handle = function(){
        var is_studied = true;
		if(is_sample || is_studied){
			$("#btn_next").addClass('on');
		}
		
		$("#btn_next").on('click', function(e){
			e.preventDefault();
			
			var url = $(this).attr('href');
			if(is_sample || is_next || is_exec == '1' ){
				save_call_back = function(){
					location.href = url;
				};
				save_call_back();opener.location.reload();
				save_handle();
			} else {
                $("#btn_next").removeClass('off').addClass('on');
				alert("바쁘시더라도 끝까지 수강해주세요.");	
			}
		});
	};
}